
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">  
    <link rel="stylesheet" href="style.css">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
    <link rel="stylesheet" href="main.css">
    <title>A - Z Dictionary</title>
  </head>
  <body>
     <nav id="nav">
    <h3 class="name" id="DarkModetext">A - Z English Dictionary</h3>
    <div class="light-con">
    <button class="definition" onclick="darkMode()">
    <img class="light2" src="moon.png" alt="">
    </i>
      <i class="fa-duotone fa-sun-bright"></i>
    </button>
    <button class="definition" onclick="lightMode()">
     <img class="light" src="shine.png" alt="">
    </button>
    
  </div>
    </nav>

    <div class="wrapper">
      <header>English Dictionary</header>
      <div class="search">
        <input type="text" placeholder="Search a word" required spellcheck="false">
        <i class="fas fa-search"></i>
        <span class="material-icons">close</span>
      </div>
      <p class="info-text">Type any existing word and press enter to get meaning, example, synonyms, etc.</p>
      <ul>
        <li class="word">
          <div class="details">
            <p>__</p>
            <span>_ _</span>
          </div>
          <i class="fas fa-volume-up"></i>
        </li>
        <div class="content">
          <li class="meaning">
            <div class="details">
              <p>Meaning</p>
              <span>___</span>
            </div>
          </li>
          <li class="example">
            <div class="details">
              <p>Example</p>
              <span>___</span>
            </div>
          </li>
          <li class="synonyms">
            <div class="details">
              <p>Synonyms</p>
              <div class="list"></div>
            </div>
          </li>
        </div>
      </ul>

      <div class="social">
        <button class="btn-pri">
          <i class="fa-brands fa-facebook-f media"></i>
        </button>
        <button class="btn-pri">
          <i class="fa-brands fa-twitter media"></i>
        </button>
        <button class="btn-pri">
          <i class="fa-brands fa-google media"></i>
        </button>
        <button class="btn-pri">
          <i class="fa-brands fa-twitter media"></i>
        </button>
    </div>
    <div class="btn-con">
      <div>
      <button id="demo" onclick="subscribe()" class="js-subscribe-button">Subscribe</button>
    </div>
    <div class="up-down-btn">
      <button id="demo2" class="js-subscribe-button2" onclick=vote()>
        <i id="upVote" class="fas fa-thumbs-up thumbs"></i>
      </button>
      <div class="break-down"></div>
      <button id="demo2" class="js-subscribe-button3">
        <i id="downVote" class="fas fa-thumbs-down"></i>
      </button>
    </div>
    </div>
    </div>
    <button id="signout">Sign Out</button>

    <footer>
      <div class="english">
        <div>
        <p>&copy; 2023 A - Z English Dictionary. All Rights Reserved. Privacy Policy </p>
        <!-- <button id="signout" type="submit">Logout</button> -->
        
      </div>
      <div class="socia">
        <button class="btn-pri3">
          <i class="fa-brands fa-facebook-f medias"></i>
        </button>
        <button class="btn-pri3">
          <i class="fa-brands fa-twitter medias"></i>
        </button>
        <button class="btn-pri3">
          <i class="fa-brands fa-google medias"></i>
        </button>
        <button class="btn-pri3">
          <i class="fa-brands fa-twitter medias"></i>
        </button>
    </div>
      </div>
    </footer>











    
    <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-auth.js"></script>
   <script src="signout.js"></script>
    
    <script>
        const wrapper = document.querySelector(".wrapper"),
        searchInput = wrapper.querySelector("input"),
        volume = wrapper.querySelector(".word i"),
        infoText = wrapper.querySelector(".info-text"),
        synonyms = wrapper.querySelector(".synonyms .list"),
        removeIcon = wrapper.querySelector(".search span");
        let audio;

        function data(result, word){
        if(result.title){
            infoText.innerHTML = `Can't find the meaning of <span>"${word}"</span>. Please, try to search for another word.`;
        }else{
            wrapper.classList.add("active");
            let definitions = result[0].meanings[0].definitions[0],
            phontetics = `${result[0].meanings[0].partOfSpeech}  /${result[0].phonetics[0].text}/`;
            document.querySelector(".word p").innerText = result[0].word;
            document.querySelector(".word span").innerText = phontetics;
            document.querySelector(".meaning span").innerText = definitions.definition;
            document.querySelector(".example span").innerText = definitions.example;
            audio = new Audio(result[0].phonetics[0].audio);

            if(definitions.synonyms[0] == undefined){
                synonyms.parentElement.style.display = "none";
            }else{
                synonyms.parentElement.style.display = "block";
                synonyms.innerHTML = "";
                for (let i = 0; i < 5; i++) {
            let tag = `<span onclick="search('${definitions.synonyms[i]}')">${definitions.synonyms[i]},</span>`;
            tag = i == 4 ? tag = `<span onclick="search('${definitions.synonyms[i]}')">${definitions.synonyms[4]}</span>` : tag;
            synonyms.insertAdjacentHTML("beforeend", tag);
          }
          }
      }
      }

        function search(word){
        fetchApi(word);
        searchInput.value = word;
        }

        function fetchApi(word){
        wrapper.classList.remove("active");
        infoText.style.color = "#000";
        infoText.innerHTML = `Searching the meaning of <span>"${word}"</span>`;
        let url = `https://api.dictionaryapi.dev/api/v2/entries/en/${word}`;
        // let url = `https://api.dictionaryapi.dev/api/v2/entries/en/<word>`;
        fetch(url).then(response => response.json()).then(result => data(result, word)).catch(() =>{
            infoText.innerHTML = `Can't find the meaning of <span>"${word}"</span>. Please, try to search for another word.`;
        });
        }

        searchInput.addEventListener("keyup", e =>{
        let word = e.target.value.replace(/\s+/g, ' ');
        if(e.key == "Enter" && word){
            fetchApi(word);
        }
        });

        volume.addEventListener("click", ()=>{
        volume.style.color = "#4D59FB";
        audio.play();
        setTimeout(() =>{
            volume.style.color = "#999";
        }, 800);
        });

        removeIcon.addEventListener("click", ()=>{
        searchInput.value = "";
        searchInput.focus();
        wrapper.classList.remove("active");
        infoText.style.color = "#9A9A9A";
        infoText.innerHTML = "Type any existing word and press enter to get meaning, example, synonyms, etc.";
        });

        function darkMode() {
            let element = document.body;
            let content = document.getElementById("DarkModetext");
            element.className = "dark-mode";
            content.innerText = "Dark Mode is ON";
            content.innerText = "A - Z English Dictionary";
        }
        function lightMode() {
            let element = document.body;
            let content = document.getElementById("DarkModetext");
            element.className = "light-mode";
            content.innerText = "Dark Mode is OFF";
            content.innerText = "A - Z English Dictionary";
        }


        function subscribe() {
        const buttonElement = document.querySelector('.js-subscribe-button');
        document.getElementById("demo").style.backgroundColor = "orange";
        document.getElementById("demo").style.border = "none";
        document.getElementById("demo").style.color = "white";
        document.getElementById("demo").style.fontSize = "20px";
        document.getElementById("demo").style.borderRadius = "30px";

        if (buttonElement.innerHTML === 'Subscribe') {
            buttonElement.innerHTML = 'Subscribed';
        } else {

            buttonElement.innerHTML = 'Subscribe';
            document.getElementById("demo").style.backgroundColor = "white";
            document.getElementById("demo").style.color = "black";

        }
      }   

            document.getElementById("upVote").addEventListener("click", () => {
            event.target.classList.toggle("liked")
        })
            document.getElementById("downVote").addEventListener("click", () => {
            event.target.classList.toggle("disliked")
        })




        



        

    </script>

  </body>
</html>
</body>
</html>